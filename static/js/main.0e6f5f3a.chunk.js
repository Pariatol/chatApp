(this.webpackJsonpchatapp=this.webpackJsonpchatapp||[]).push([[0],{17:function(e,t,a){e.exports=a(39)},22:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),o=a(14),r=a.n(o),c=(a(22),a(10));var u=function(e){return s.a.createElement("div",{className:"typePseudo"},s.a.createElement("form",{onSubmit:function(t){return function(t){t.preventDefault();var a=document.getElementById("getPseudo");e.setPseudo(a.elements.usernameInput.value),localStorage.setItem("chatUsername",a.elements.usernameInput.value)}(t)},id:"getPseudo"},s.a.createElement("input",{type:"text",name:"usernameInput",class:"testInput usernameInput",placeholder:"Write your name",autofocus:!0,autoComplete:"off"}),s.a.createElement("input",{type:"submit"})))},m=a(16),l=a(7),i=a.n(l),p=function(e,t){0===e.length?i.a.database().ref("messages").on("value",(function(e){var a=[];e.forEach((function(e){e.key;var t=e.val();console.log(t.msg),a.push({msg:t.msg,pseudo:t.username})})),t(a)})):i.a.database().ref("messages").on("value",(function(a){var n=Object(m.a)(e);n.push({msg:a[a.length-1].msg,pseudo:a[a.length-1].username}),t(n)}))};var f=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){p(a,o)}),[]),s.a.createElement("div",{className:"printMsgs"},a.slice(-15).map((function(e){return s.a.createElement("div",{className:"msg"},s.a.createElement("strong",null,e.pseudo)," - ",e.msg)})))},d=function(e,t){i.a.database().ref("messages/").push({username:e,msg:t})},g=(a(38),a(15)),v={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/chatapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_KEY:"AIzaSyCGPxiFz4GGRrCWdyV5-uuY1IzvXKLWwC4"}).REACT_APP_WEATHER_API_KEY,authDomain:"bestchatappever.firebaseapp.com",databaseURL:"https://bestchatappever.firebaseio.com",projectId:"bestchatappever",storageBucket:"bestchatappever.appspot.com",messagingSenderId:"1010887688364",appId:"1:1010887688364:web:591cdbdabf7507b0a19f09"};g.initializeApp(v);var h=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){o(localStorage.getItem("chatUsername")||"")}),[]),s.a.createElement("div",{className:"App"},a?s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",{className:"chatTitle"},"The Best Chat App Ever"),s.a.createElement(f,{pseudo:a}),s.a.createElement("form",{onSubmit:function(e){return function(e,t){e.preventDefault();var a=document.querySelector("form");d(t,a.elements.msgInput.value),a.reset()}(e,a)},class:"msgForm"},s.a.createElement("label",{for:"msgInput",class:"testInput"},a),s.a.createElement("input",{type:"text",name:"msgInput",class:"testInput",placeholder:"write something...",autofocus:!0,autoComplete:"off"}),s.a.createElement("input",{type:"submit"}))):s.a.createElement(u,{setPseudo:o}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.0e6f5f3a.chunk.js.map